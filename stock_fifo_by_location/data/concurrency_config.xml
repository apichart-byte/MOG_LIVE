<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Concurrency Control Configuration Parameters -->
        
        <!-- Lock Timeout (milliseconds) -->
        <record id="config_fifo_lock_timeout" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.fifo_lock_timeout</field>
            <field name="value">10000</field>
        </record>
        
        <!-- Deadlock Retry Configuration -->
        <record id="config_deadlock_max_retries" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.deadlock_max_retries</field>
            <field name="value">3</field>
        </record>
        
        <record id="config_deadlock_base_delay" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.deadlock_base_delay</field>
            <field name="value">0.1</field>
        </record>
        
        <!-- Lock Strategy -->
        <!-- Options: 'nowait' (fail fast), 'wait' (block until available) -->
        <record id="config_lock_strategy" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.lock_strategy</field>
            <field name="value">nowait</field>
        </record>
        
        <!-- Enable Concurrency Checks -->
        <record id="config_enable_concurrency_checks" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.enable_concurrency_checks</field>
            <field name="value">True</field>
        </record>
        
        <!-- Concurrent Modification Detection -->
        <record id="config_detect_concurrent_modifications" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.detect_concurrent_modifications</field>
            <field name="value">True</field>
        </record>
        
        <!-- Use Serializable Transactions for Critical Operations -->
        <record id="config_use_serializable_transactions" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.use_serializable_transactions</field>
            <field name="value">False</field>
        </record>
        
        <!-- Log Concurrency Events -->
        <record id="config_log_concurrency_events" model="ir.config_parameter">
            <field name="key">stock_fifo_by_location.log_concurrency_events</field>
            <field name="value">True</field>
        </record>
        
    </data>
</odoo>
